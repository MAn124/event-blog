import"./chunk-TXVSQDQP.js";import{a as re,b as se,c as ae,d as he,e as xe}from"./chunk-H5SHBJZH.js";import{$ as Z,A as V,B as r,C as s,Ca as D,D as b,Da as A,E as W,Ea as B,F as I,Fa as L,G as g,Ga as ne,H as C,Ha as j,I as l,Ia as oe,L as H,M as d,Ma as le,Na as pe,O as E,Oa as me,P as u,Pa as ce,Q as f,Qa as de,R as h,Ra as R,S as U,Sa as O,T as w,Ta as _e,Ua as ge,V as q,Va as ue,Wa as fe,aa as $,b as J,ba as k,ea as ee,f as K,fa as te,g as Q,h as X,j as F,k as Y,m,n as c,pa as ie,qa as N,ra as y,sa as P,t as p,u as v,y as x,z as _}from"./chunk-ESGM5Y7L.js";import{a as M,b as T}from"./chunk-MON7YFGF.js";var We=()=>({width:"50rem"}),Ie=()=>({"1199px":"75vw","575px":"90vw"}),Ue=()=>({height:"320px"});function ke(o,a){if(o&1){let t=g();r(0,"div",8)(1,"p-button",9),C("click",function(){m(t);let e=l();return c(e.openDialogAdd())}),s()()}}function Ne(o,a){if(o&1){let t=g();r(0,"div",12)(1,"app-post",13),C("isEdit",function(){let e=m(t).$implicit,n=l(2);return c(n.openDialogEdit(e))}),s()()}if(o&2){let t=a.$implicit;p(),_("canEdit",!0)("post",t)}}function Pe(o,a){if(o&1&&(r(0,"div",10),x(1,Ne,2,2,"div",11),s()),o&2){let t=a.$implicit;p(),_("ngForOf",t)}}function De(o,a){if(o&1){let t=g();r(0,"div",15)(1,"label",25),d(2,"ID"),s(),r(3,"input",26),h("ngModelChange",function(e){m(t);let n=l(2);return f(n.post.id,e)||(n.post.id=e),c(e)}),s()()}if(o&2){let t=l(2);p(3),u("ngModel",t.post.id)}}function Ae(o,a){if(o&1){let t=g();W(0),r(1,"div",15)(2,"label",27),d(3,"Create At"),s(),r(4,"input",28),h("ngModelChange",function(e){m(t);let n=l(2);return f(n.post.createAt,e)||(n.post.createAt=e),c(e)}),s()(),I()}if(o&2){let t=l(2);p(4),u("ngModel",t.post.createAt)}}function Be(o,a){if(o&1){let t=g();x(0,De,4,1,"div",14),r(1,"div",15)(2,"label",16),d(3,"Title"),s(),r(4,"input",17),h("ngModelChange",function(e){m(t);let n=l();return f(n.post.title,e)||(n.post.title=e),c(e)}),s()(),r(5,"div",15)(6,"label",18),d(7,"Tags"),s(),r(8,"p-chips",19),h("ngModelChange",function(e){m(t);let n=l();return f(n.post.tags,e)||(n.post.tags=e),c(e)}),s()(),r(9,"div",15)(10,"label",20),d(11,"Content"),s(),r(12,"p-editor",19),h("ngModelChange",function(e){m(t);let n=l();return f(n.post.content,e)||(n.post.content=e),c(e)}),s()(),x(13,Ae,5,1,"ng-container",21),r(14,"div",22)(15,"p-button",23),C("click",function(e){m(t);let n=l();return c(n.delete(e))}),s(),r(16,"p-button",24),C("click",function(){m(t);let e=l();return c(e.save())}),s()()}if(o&2){let t=l();_("ngIf",t.isEditable),p(4),u("ngModel",t.post.title),p(4),u("ngModel",t.post.tags),p(4),V(w(7,Ue)),u("ngModel",t.post.content),p(),_("ngIf",t.isEditable)}}var Ce=(()=>{let a=class a{constructor(i,e,n){this.messageService=i,this.postService=e,this.confirmationService=n,this.posts=[],this.post={},this.isVisible=!1,this.isEditable=!1}ngOnInit(){this.getPosts()}getPosts(){this.postService.getAllPosts().subscribe({next:i=>{this.posts=i,console.log(this.posts)},error:i=>{console.log(i)}})}openDialogAdd(){this.isEditable=!1,this.isVisible=!0,this.post={}}openDialogEdit(i){this.isEditable=!0,this.isVisible=!0,this.post=M({},i)}save(){this.post.id?this.postService.update(this.post.id,this.post).subscribe({next:i=>{this.isVisible=!1;let e=this.posts.findIndex(n=>n.id===this.post.id);e!=-1&&(this.posts[e]=this.post),this.messageService.add({severity:"success",summary:"Success",detail:"Message Content"})},error:i=>{console.log(i)}}):this.postService.create(this.post).subscribe({next:i=>{this.post.id=i,console.log(i),this.isVisible=!1,this.posts.unshift(T(M({},this.post),{id:i,createAt:new Date().toJSON()})),this.posts=[...this.posts],this.messageService.add({severity:"success",summary:"Success",detail:"Message Content"}),console.log(this.posts)},error:i=>{console.log(i)}})}delete(i){this.confirmationService.confirm({target:i.target,message:"Do you want to delete this record?",icon:"pi pi-info-circle",acceptButtonStyleClass:"p-button-danger p-button-sm",accept:()=>{this.post.id&&this.postService.delete(this.post.id).subscribe({next:()=>{this.posts=this.posts.filter(e=>e.id!==this.post.id),this.isVisible=!1,this.messageService.add({severity:"info",summary:"Confirmed",detail:"Record deleted",life:3e3})},error:e=>{console.log(e)}})}})}};a.\u0275fac=function(e){return new(e||a)(v(y),v(re),v(N))},a.\u0275cmp=F({type:a,selectors:[["app-feed"]],features:[U([y,N])],decls:11,vars:12,consts:[["dv",""],[1,"mb-2","mt-5","text-center","text-4xl"],[3,"value","layout","rows","paginator"],["pTemplate","header"],["pTemplate","grid"],[1,"card","flex","justify-content-center"],["header","Header",3,"visibleChange","modal","visible","breakpoints","maximizable"],["pTemplate","content"],[1,"flex","justify-content-end"],["label","Write","severity","success",3,"click"],[1,"grid","grid-nogutter"],["class","col-12 sm:col-12 lg:col-6 md:col-6 xl:col-4 p-2",4,"ngFor","ngForOf"],[1,"col-12","sm:col-12","lg:col-6","md:col-6","xl:col-4","p-2"],[3,"isEdit","canEdit","post"],["class","flex flex-column gap-2 mb-4",4,"ngIf"],[1,"flex","flex-column","gap-2","mb-4"],["for","title"],["pInputText","","id","title",3,"ngModelChange","ngModel"],["for","tags"],[3,"ngModelChange","ngModel"],["for","content"],[4,"ngIf"],[1,"flex","gap-2","mb-4"],["label","Delete","severity","danger",3,"click"],["label","Save","severity","success",3,"click"],["for","id"],["pInputText","","id","id","readonly","",3,"ngModelChange","ngModel"],["for","createAt"],["pInputText","","id","createAt",3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let z=g();r(0,"h2",1),d(1,"FEEDS"),s(),r(2,"p-dataView",2,0),x(4,ke,2,0,"ng-template",3)(5,Pe,2,1,"ng-template",4),s(),r(6,"div",5)(7,"p-dialog",6),h("visibleChange",function(S){return m(z),f(n.isVisible,S)||(n.isVisible=S),c(S)}),x(8,Be,17,8,"ng-template",7),s()(),b(9,"p-toast")(10,"p-confirmDialog")}e&2&&(p(2),_("value",n.posts)("layout","grid")("rows",10)("paginator",!0),p(5),V(w(10,We)),_("modal",!0),u("visible",n.isVisible),_("breakpoints",w(11,Ie))("maximizable",!0))},dependencies:[ae,$,k,D,P,j,R,O,pe,_e,ge,ue,A,B,L]});let o=a;return o})();var we=(()=>{let a=class a{constructor(i){this.http=i,this.baseUrl="http://localhost:8080/v1/api/role/list"}getAllRoles(){return this.http.get(this.baseUrl).pipe(J(i=>i.data))}};a.\u0275fac=function(e){return new(e||a)(X(te))},a.\u0275prov=K({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var je=()=>["email"],Re=()=>({"min-width":"75rem"}),Oe=()=>({width:"50rem"}),ze=()=>({"1199px":"75vw","575px":"90vw"}),He=(o,a)=>({"text-green-500 pi-check-circle":o,"text-red-500 pi-times-circle":a}),qe=()=>({label:"Active",value:!0}),Ge=()=>({label:"Disable",value:!1}),Je=(o,a)=>[o,a],Ke=()=>({width:"100%"});function Qe(o,a){if(o&1){let t=g();r(0,"div",10)(1,"p-button",11),C("click",function(){m(t);let e=l();return c(e.openDialogNew())}),s(),r(2,"span",12),b(3,"i",13),r(4,"input",14,1),C("input",function(){m(t);let e=H(5);l();let n=H(2);return c(n.filterGlobal(e.value,"contains"))}),s()()()}}function Xe(o,a){if(o&1){let t=g();r(0,"p-dropdown",18),C("onChange",function(e){let n=m(t).filterCallback;return c(n(e.value))}),s()}if(o&2){let t=a.$implicit,i=l(2);_("ngModel",t)("options",i.roles)("showClear",!0)}}function Ye(o,a){o&1&&(r(0,"tr")(1,"th"),d(2,"Fist Name"),s(),r(3,"th"),d(4,"Last Name"),s(),r(5,"th"),d(6,"Email"),s(),r(7,"th"),d(8,"Status"),s(),r(9,"th"),d(10,"Role"),s()(),r(11,"tr"),b(12,"th")(13,"th")(14,"th"),r(15,"th"),b(16,"p-columnFilter",15),s(),r(17,"th")(18,"p-columnFilter",16),x(19,Xe,1,3,"ng-template",17),s()()()),o&2&&(p(18),_("showMenu",!1))}function Ze(o,a){if(o&1){let t=g();r(0,"tr",19),C("dblclick",function(){let e=m(t).$implicit,n=l();return c(n.openDialogEdit(e))}),r(1,"td"),d(2),s(),r(3,"td"),d(4),s(),r(5,"td"),d(6),s(),r(7,"td"),b(8,"i",20),s(),r(9,"td"),d(10),s()()}if(o&2){let t=a.$implicit,i=l();p(2),E(" ",t.firstName," "),p(2),E(" ",t.lastName," "),p(2),E(" ",t.email," "),p(2),_("ngClass",q(5,He,t.active,!t.active)),p(2),E(" ",i.getRole(t.role)," ")}}function $e(o,a){if(o&1){let t=g();r(0,"div",22)(1,"label",35),d(2,"ID"),s(),r(3,"input",36),h("ngModelChange",function(e){m(t);let n=l(2);return f(n.user.id,e)||(n.user.id=e),c(e)}),s()()}if(o&2){let t=l(2);p(3),u("ngModel",t.user.id)}}function et(o,a){if(o&1){let t=g();r(0,"div",22)(1,"label",25),d(2,"Role"),s(),r(3,"p-dropdown",37),h("ngModelChange",function(e){m(t);let n=l(2);return f(n.user.id,e)||(n.user.id=e),c(e)}),s()()}if(o&2){let t=l(2);p(3),_("options",t.roles),u("ngModel",t.user.id)}}function tt(o,a){if(o&1){let t=g();r(0,"div",22)(1,"label",27),d(2,"Status"),s(),r(3,"p-selectButton",38),h("ngModelChange",function(e){m(t);let n=l(2);return f(n.user.active,e)||(n.user.active=e),c(e)}),s()()}if(o&2){let t=l(2);p(3),_("options",q(4,Je,w(2,qe),w(3,Ge))),u("ngModel",t.user.active)}}function it(o,a){if(o&1){let t=g();r(0,"div",22)(1,"p-password",39),h("ngModelChange",function(e){m(t);let n=l(2);return f(n.user.password,e)||(n.user.password=e),c(e)}),s(),r(2,"label",40),d(3,"Password"),s()()}if(o&2){let t=l(2);p(),u("ngModel",t.user.password),_("feedback",!1)("inputStyle",w(3,Ke))}}function nt(o,a){if(o&1){let t=g();W(0),r(1,"div",22)(2,"label",41),d(3,"Create At"),s(),r(4,"input",42),h("ngModelChange",function(e){m(t);let n=l(2);return f(n.user.createAt,e)||(n.user.createAt=e),c(e)}),s()(),I()}if(o&2){let t=l(2);p(4),u("ngModel",t.user.createAt)}}function ot(o,a){if(o&1){let t=g();x(0,$e,4,1,"div",21),r(1,"div",22)(2,"label",23),d(3,"First Name"),s(),r(4,"input",24),h("ngModelChange",function(e){m(t);let n=l();return f(n.user.firstName,e)||(n.user.firstName=e),c(e)}),s()(),r(5,"div",22)(6,"label",25),d(7,"Last Name"),s(),r(8,"input",26),h("ngModelChange",function(e){m(t);let n=l();return f(n.user.lastName,e)||(n.user.lastName=e),c(e)}),s()(),x(9,et,4,2,"div",21)(10,tt,4,7,"div",21),r(11,"div",22)(12,"label",27),d(13,"Username"),s(),r(14,"input",28),h("ngModelChange",function(e){m(t);let n=l();return f(n.user.username,e)||(n.user.username=e),c(e)}),s()(),x(15,it,4,4,"div",21),r(16,"div",22)(17,"label",29),d(18,"Email"),s(),r(19,"input",30),h("ngModelChange",function(e){m(t);let n=l();return f(n.user.email,e)||(n.user.email=e),c(e)}),s()(),x(20,nt,5,1,"ng-container",31),r(21,"div",32)(22,"p-button",33),C("click",function(){m(t);let e=l();return c(e.isVisible=!1)}),s(),r(23,"p-button",34),C("click",function(){m(t);let e=l();return c(e.save())}),s()()}if(o&2){let t=l();_("ngIf",t.isEditable),p(4),u("ngModel",t.user.firstName),p(4),u("ngModel",t.user.lastName),p(),_("ngIf",t.isEditable),p(),_("ngIf",t.isEditable),p(4),u("ngModel",t.user.username),p(),_("ngIf",!t.isEditable),p(4),u("ngModel",t.user.email),p(),_("ngIf",t.isEditable)}}var ve=(()=>{let a=class a{constructor(i,e,n){this.roleService=i,this.userService=e,this.messageService=n,this.isVisible=!1,this.isEditable=!1}ngOnInit(){this.getRoles(),this.getUsers()}getRoles(){this.roleService.getAllRoles().subscribe({next:i=>{this.roles=i,console.log("Roles :",this.roles)},error:i=>{console.log(i)}})}getRole(i){return this.roles.find(e=>e.id===i)?.name}getUsers(){this.userService.getAllUsers().subscribe({next:i=>{this.users=i,console.log("User :",this.users)},error:i=>{console.log(i)}})}openDialogEdit(i){this.isEditable=!0,this.isVisible=!0,this.user=M({},i)}openDialogNew(){this.isEditable=!1,this.isVisible=!0,this.user={active:!0,role:2}}save(){this.user.id?this.userService.update(this.user.id,this.user).subscribe({next:i=>{this.isVisible=!1;let e=this.users.findIndex(n=>n.id===this.user.id);e!=-1&&(this.users[e]=this.user),this.messageService.add({severity:"success",summary:"Success",detail:"Message Content"})},error:i=>{console.log(i)}}):this.userService.create(this.user).subscribe({next:i=>{this.user.id=i,console.log(i),this.isVisible=!1,this.users.unshift(T(M({},this.user),{id:i})),this.messageService.add({severity:"success",summary:"Success",detail:"Message Content"})},error:i=>{console.log(i)}})}};a.\u0275fac=function(e){return new(e||a)(v(we),v(se),v(y))},a.\u0275cmp=F({type:a,selectors:[["app-user-management"]],features:[U([y])],decls:10,vars:13,consts:[["usertable",""],["search",""],[1,"card"],[3,"value","globalFilterFields","tableStyle"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"card","flex","justify-content-center"],["header","Header",3,"visibleChange","modal","visible","breakpoints","maximizable"],["pTemplate","content"],[1,"flex"],["label","New","severity","success","icon","pi pi-plus",3,"click"],[1,"ml-auto","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["type","boolean","field","active"],["field","role","matchMode","equals",3,"showMenu"],["pTemplate","filter"],["optionLabel","name","optionValue","id",3,"onChange","ngModel","options","showClear"],[1,"cursor-pointer",3,"dblclick"],[1,"pi",3,"ngClass"],["class","flex flex-column gap-2 mb-4",4,"ngIf"],[1,"flex","flex-column","gap-2","mb-4"],["for","firstName"],["pInputText","","id","firstName",3,"ngModelChange","ngModel"],["for","lastName"],["pInputText","","id","lastName",3,"ngModelChange","ngModel"],["for","username"],["pInputText","","id","username",3,"ngModelChange","ngModel"],["for","email"],["pInputText","","id","email",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"flex","gap-2","mb-4"],["label","Cancel","severity","danger",3,"click"],["label","Save","severity","success",3,"click"],["for","id"],["pInputText","","id","id","readonly","",3,"ngModelChange","ngModel"],["optionLabel","name","optionValue","id","placeholder","Role",3,"ngModelChange","options","ngModel"],["optionLabel","label","optionValue","value",3,"ngModelChange","options","ngModel"],[3,"ngModelChange","ngModel","feedback","inputStyle"],["for","password"],["for","createAt"],["pInputText","","id","createAt",3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let z=g();r(0,"div",2)(1,"p-table",3,0),x(3,Qe,6,0,"ng-template",4)(4,Ye,20,1,"ng-template",5)(5,Ze,11,8,"ng-template",6),s()(),r(6,"div",7)(7,"p-dialog",8),h("visibleChange",function(S){return m(z),f(n.isVisible,S)||(n.isVisible=S),c(S)}),x(8,ot,24,9,"ng-template",9),s()(),b(9,"p-toast")}e&2&&(p(),_("value",n.users)("globalFilterFields",w(9,je))("tableStyle",w(10,Re)),p(6),V(w(11,Oe)),_("modal",!0),u("visible",n.isVisible),_("breakpoints",w(12,ze))("maximizable",!0))},dependencies:[Z,k,D,P,ce,de,le,j,R,me,O,oe,A,B,L]});let o=a;return o})();var rt=[{path:"",component:Ce},{path:"user-management",component:ve},{path:"posts",children:[{path:":id",component:he}]}],Pt=(()=>{let a=class a{};a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=Y({type:a}),a.\u0275inj=Q({imports:[xe,ee,fe,ne,ie.forChild(rt)]});let o=a;return o})();export{Pt as StaffModule};
